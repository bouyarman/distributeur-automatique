push_image_dh:
    stage: cd
    image: docker:25
    variables: 
        DOCKER_USERNAME: "$DOCKER_USERNAME"
        DOCKER_PASSWORD: "$DOCKER_PASSWORD"
        DOCKER_DRIVER: overlay2
        DOCKER_TLS_CERTDIR: ""
    services: 
        - image: docker:25-dind
          command: ["--tls=false"]
    script: 
        - docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
        - docker compose -f docker-compose.yml push

run_image:
    stage: cd
    image: docker:25
    variables: 
        DOCKER_USERNAME: "$DOCKER_USERNAME"
        DOCKER_PASSWORD: "$DOCKER_PASSWORD"
    services: 
        - image: docker:25-dind
    script:
        - docker run 


